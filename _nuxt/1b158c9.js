(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{485:function(t,e,n){var content=n(495);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("ac439d80",content,!0,{sourceMap:!1})},486:function(t,e,n){var content=n(497);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("46a9a280",content,!0,{sourceMap:!1})},487:function(t,e,n){var content=n(499);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("7c3f8253",content,!0,{sourceMap:!1})},488:function(t,e,n){var content=n(501);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("58f4be98",content,!0,{sourceMap:!1})},489:function(t,e,n){var content=n(503);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("44b1fdb6",content,!0,{sourceMap:!1})},490:function(t,e,n){var content=n(505);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("1d7df180",content,!0,{sourceMap:!1})},491:function(t,e,n){var content=n(507);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("61f4957f",content,!0,{sourceMap:!1})},494:function(t,e,n){"use strict";n(485)},495:function(t,e,n){(e=n(81)(!1)).push([t.i,".controls{width:90%;height:150px;max-width:1000px;margin:auto}.flex-grid{display:flex;align-items:center}.col{flex:1}.search{display:flex}.search,.slider{min-width:50%}",""]),t.exports=e},496:function(t,e,n){"use strict";n(486)},497:function(t,e,n){(e=n(81)(!1)).push([t.i,".searchbar{min-width:250px;width:100%}.autocomplete{min-width:200px;width:100%;height:70px;flex:4;padding:10px}.autocomplete-results{padding:0;margin:0;border:1px solid #eee;height:150px;overflow:auto;width:100%;background-color:#fff;z-index:2;position:relative}.autocomplete-result{list-style:none;text-align:left;padding:4px 2px;cursor:pointer}.autocomplete input{margin:auto;width:100%;height:100%;padding-left:5px}.autocomplete-result.is-active,.autocomplete-result:hover{background-color:#4aae9b;color:#fff}",""]),t.exports=e},498:function(t,e,n){"use strict";n(487)},499:function(t,e,n){(e=n(81)(!1)).push([t.i,".autocomplete input{background-color:#edeef3}",""]),t.exports=e},500:function(t,e,n){"use strict";n(488)},501:function(t,e,n){(e=n(81)(!1)).push([t.i,".addbutton{padding:5px;margin:auto;min-width:100px;max-width:150px;height:50px;width:5%;cursor:pointer}",""]),t.exports=e},502:function(t,e,n){"use strict";n(489)},503:function(t,e,n){(e=n(81)(!1)).push([t.i,".addbutton{background-color:#214167;color:#edeef3;font-weight:1.2em}.addbutton:hover{background-color:#edeef3;color:#214167;font-weight:1.2em}",""]),t.exports=e},504:function(t,e,n){"use strict";n(490)},505:function(t,e,n){(e=n(81)(!1)).push([t.i,".yearslider{position:relative;height:50px;width:40%}",""]),t.exports=e},506:function(t,e,n){"use strict";n(491)},507:function(t,e,n){(e=n(81)(!1)).push([t.i,".v-input__slider{background-color:#edeef3;padding:5px 10px 4px;font-size:12px}.v-messages{min-height:1px}",""]),t.exports=e},509:function(t,e,n){"use strict";n.r(e);var o={name:"controls",props:{button:{type:String,required:!1,default:"Add"}}},r=(n(494),n(83)),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"controls flex-grid"},[e("div",{staticClass:"search col"},[e("autocomplete",{attrs:{button:this.button}})],1),this._v(" "),e("div",{staticClass:"slider col"},[e("yearslider")],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Autocomplete:n(510).default,Yearslider:n(511).default})},510:function(t,e,n){"use strict";n.r(e);n(38),n(108),n(27),n(266),n(32);var o={name:"autocomplete",props:{button:{type:String,required:!1,default:"Add"}},data:function(){return{isOpen:!1,results:[],search:"",isLoading:!1,arrowCounter:-1,options:[]}},computed:{items:function(){return this.$store.state.donors.options}},methods:{onChange:function(){this.$emit("input",this),this.filterResults(),this.isOpen=!0},filterResults:function(){var t=this;this.search.length>0&&(this.search.length<2?this.results=this.items.filter((function(e){return 0==e.Donor.toLowerCase().indexOf(t.search.toLowerCase())})):this.results=this.items.filter((function(e){return e.Donor.toLowerCase().indexOf(t.search.toLowerCase())>-1})))},setResult:function(t){this.search=t.Donor,this.isOpen=!1,this.$store.commit("donors/queue",t)},onArrowDown:function(t){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){this.search=this.results[this.arrowCounter].Donor,this.isOpen=!1,this.arrowCounter=-1},handleClickOutside:function(t){this.$el.contains(t.target)||(this.isOpen=!1,this.arrowCounter=-1)},onClear:function(){this.search=""}},watch:{items:function(t,e){t.length!==e.length&&(this.results=t,this.isLoading=!1)}},beforeMount:function(){},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}},r=(n(496),n(498),n(83)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"searchbar flex-grid"},[n("div",{staticClass:"autocomplete col"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:" Search for Donor"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onChange],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrowDown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrowUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}]}}),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results",attrs:{id:"autocomplete-results"}},[t.isLoading?n("li",{staticClass:"loading"},[t._v("\n        Loading results...\n      ")]):t._l(t.results,(function(e,i){return n("li",{key:e.Cluster_ID,staticClass:"autocomplete-result",class:{"is-active":i===t.arrowCounter},on:{click:function(n){return t.setResult(e)}}},[t._v("\n        "+t._s(e.Donor)+"\n      ")])}))],2)]),t._v(" "),n("addbutton",{attrs:{type:this.button},on:{clear:t.onClear}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Addbutton:n(512).default})},511:function(t,e,n){"use strict";n.r(e);var o=n(32),r={name:"yearslider",props:{},data:function(){return{min:2015,max:2020}},computed:{yearrange:{get:function(){return this.$store.state.year.range},set:function(t){this.$store.commit("year/updateRange",t)}},tickLabels:function(){return o.l(this.min,this.max+1)}},methods:{},beforeMount:function(){this.$store.commit("year/updateRange",[this.min,this.max])}},c=(n(504),n(506),n(83)),d=n(483),l=n.n(d),h=n(634),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-range-slider",{attrs:{max:t.max,min:t.min,"tick-labels":t.tickLabels,"thumb-label":"","thumb-size":"32",ticks:"always","tick-size":"5",color:"#214167"},model:{value:t.yearrange,callback:function(e){t.yearrange=e},expression:"yearrange"}})}),[],!1,null,null,null);e.default=component.exports;l()(component,{VRangeSlider:h.a})},512:function(t,e,n){"use strict";n.r(e);var o={name:"addbutton",props:{type:{type:String,required:!1,default:"Add"}},computed:{donor:function(){return this.$store.state.donors.queued}},methods:{onClick:function(){this.$emit("clear"),"Add"==this.type?this.$store.commit("donors/addQueued"):"Open"==this.type&&(this.$store.dispatch("openDonorFile",this.donor),this.$store.commit("donors/addQueued"))}}},r=(n(500),n(502),n(83)),component=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("input",{staticClass:"addbutton col",attrs:{type:"button",value:this.type+" Donor"},on:{click:this.onClick}})}),[],!1,null,null,null);e.default=component.exports},524:function(t,e,n){var content=n(586);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("1b7833da",content,!0,{sourceMap:!1})},525:function(t,e,n){var content=n(588);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("2ceccf8b",content,!0,{sourceMap:!1})},526:function(t,e,n){var content=n(590);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("5e4bedc8",content,!0,{sourceMap:!1})},527:function(t,e,n){var content=n(592);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("ac2101f8",content,!0,{sourceMap:!1})},528:function(t,e,n){var content=n(594);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("6e340884",content,!0,{sourceMap:!1})},529:function(t,e,n){var content=n(596);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("3244bace",content,!0,{sourceMap:!1})},530:function(t,e,n){var content=n(598);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("4cc93992",content,!0,{sourceMap:!1})},531:function(t,e,n){var content=n(600);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("805ace76",content,!0,{sourceMap:!1})},532:function(t,e,n){var content=n(602);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("7c8bfe68",content,!0,{sourceMap:!1})},533:function(t,e,n){var content=n(604);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("93a7a8b6",content,!0,{sourceMap:!1})},534:function(t,e,n){var content=n(606);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("07b7d220",content,!0,{sourceMap:!1})},535:function(t,e,n){var content=n(608);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("261bf846",content,!0,{sourceMap:!1})},536:function(t,e,n){var content=n(610);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("2a1a197a",content,!0,{sourceMap:!1})},537:function(t,e,n){var content=n(612);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("0e0183f6",content,!0,{sourceMap:!1})},585:function(t,e,n){"use strict";n(524)},586:function(t,e,n){(e=n(81)(!1)).push([t.i,".links{padding-top:15px}.break{flex-basis:100%}",""]),t.exports=e},587:function(t,e,n){"use strict";n(525)},588:function(t,e,n){(e=n(81)(!1)).push([t.i,".light{background-color:#fbe9c8;color:#214167}",""]),t.exports=e},589:function(t,e,n){"use strict";n(526)},590:function(t,e,n){(e=n(81)(!1)).push([t.i,'.titleheader{font-family:"Fjalla One",sans-serif;display:block;font-size:7em;letter-spacing:1px;padding-top:80px}.subheader,.titleheader{font-weight:500;color:#000}.subheader{font-size:36px;word-spacing:5px;padding-bottom:15px}',""]),t.exports=e},591:function(t,e,n){"use strict";n(527)},592:function(t,e,n){(e=n(81)(!1)).push([t.i,".intro{margin-top:100px}.bodytext{background-color:#edeef3;text-align:left;width:80%;padding:20px;font-weight:300}",""]),t.exports=e},593:function(t,e,n){"use strict";n(528)},594:function(t,e,n){(e=n(81)(!1)).push([t.i,'.donortreesquare{fill:#206a5d}.treesquare{fill:#edeef3}.sectionheader{color:#edeef3;padding-bottom:20px;background-color:#214167;width:110%;text-align:left;font-weight:500;font-family:"Fjalla One",sans-serif;font-size:1.5em}.treewrap{margin-top:100px}.rectHighlighted{stroke:#206a5d;stroke-width:2;fill:#214167;fill-opacity:.5;cursor:pointer}.prevHighlighted{stroke:#214167;stroke-width:2;fill:#206a5d;fill-opacity:.9;cursor:pointer}.donorinfo{color:#000;margin-left:40px;padding:40px;width:25%;text-align:left;background-color:#fbe9c8;height:250px;display:inherit}.donorinfo,.nestedinfo{margin-top:auto;margin-bottom:auto}.bold,.nestedinfo{font-weight:700}.bold{font-size:1.5em}',""]),t.exports=e},595:function(t,e,n){"use strict";n(529)},596:function(t,e,n){(e=n(81)(!1)).push([t.i,".sectionpadding{padding:20px}.left,.right{text-align:left}",""]),t.exports=e},597:function(t,e,n){"use strict";n(530)},598:function(t,e,n){(e=n(81)(!1)).push([t.i,".donorlist{min-width:100%;display:flex;align-items:center;margin-bottom:10px}",""]),t.exports=e},599:function(t,e,n){"use strict";n(531)},600:function(t,e,n){(e=n(81)(!1)).push([t.i,".section{background-color:#214167;padding:40px;width:97%;margin-bottom:auto;margin-right:-7%}.donordata{min-height:400px}.candidate{min-height:50px;width:100%;background-color:#edeef3;margin-bottom:10px;text-align:left;padding:5px;display:inline-flex}.candidatepadding{margin-top:auto;margin-bottom:auto;text-align:left}",""]),t.exports=e},601:function(t,e,n){"use strict";n(532)},602:function(t,e,n){(e=n(81)(!1)).push([t.i,".dialog{max-width:550px;width:100%;margin:auto;max-height:600px;position:fixed;top:10%;left:30%;text-align:left}.text{margin-bottom:1em}.overlay{width:100%;height:100%;position:fixed;display:inline;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:2}.tick text{fill:#000}.close{width:100%;text-align:right;padding-right:10px}.closex{cursor:pointer;font-weight:700}",""]),t.exports=e},603:function(t,e,n){"use strict";n(533)},604:function(t,e,n){(e=n(81)(!1)).push([t.i,".dialog{background-color:#214167}.close{background-color:#fbe9c8;color:#214167}.infobox{margin:auto;max-height:100%;max-width:100%;background-color:#214167;padding:30px}.infoboxpadding{padding:30px;background-color:#edeef3}",""]),t.exports=e},605:function(t,e,n){"use strict";n(534)},606:function(t,e,n){(e=n(81)(!1)).push([t.i,"h1[data-v-a86f2374]{margin-bottom:.2em}",""]),t.exports=e},607:function(t,e,n){"use strict";n(535)},608:function(t,e,n){(e=n(81)(!1)).push([t.i,".donortag[data-v-34a50264]{width:30%;text-align:left;display:flex}.left[data-v-34a50264]{padding-right:15px;padding-top:2px;max-width:100px}.right[data-v-34a50264]{min-width:200px}.top[data-v-34a50264]{padding-bottom:10px}.normal[data-v-34a50264]{font-size:.7em}h1[data-v-34a50264]{font-size:.9em}a[data-v-34a50264]{text-decoration:none}",""]),t.exports=e},609:function(t,e,n){"use strict";n(536)},610:function(t,e,n){(e=n(81)(!1)).push([t.i,".slideLeft{margin-left:-150px}",""]),t.exports=e},611:function(t,e,n){"use strict";n(537)},612:function(t,e,n){(e=n(81)(!1)).push([t.i,".barHighlighted{stroke:#214167;stroke-width:3;fill:#edeef3;cursor:pointer}.donorlist{background-color:#fbe9c8;padding:10px;border-radius:15px;overflow:auto}",""]),t.exports=e},623:function(t,e,n){"use strict";n.r(e);var o={name:"top"},r=(n(589),n(83)),component=Object(r.a)(o,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header light"},[e("h1",{staticClass:"titleheader"},[this._v("\n        Who Pays?\n      ")]),this._v(" "),e("div",{staticClass:"subheader"},[this._v("\n        Explore New York City Political Donors\n        ")])])}],!1,null,null,null);e.default=component.exports},624:function(t,e,n){"use strict";n.r(e);var o={name:"textsection",props:{header:{type:String,required:!1},body:{type:String,required:!1}}},r=(n(591),n(83)),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section intro"},[this.header?e("div",{staticClass:"sectionheader"},[this._v("\n      "+this._s(this.header)+"\n    ")]):e("div"),this._v(" "),this.body?e("div",{staticClass:"bodytext"},[this._v("\n      "+this._s(this.body)+"\n    ")]):e("div")])}),[],!1,null,null,null);e.default=component.exports},625:function(t,e,n){"use strict";n.r(e);n(45),n(46),n(107),n(39),n(270),n(9),n(40),n(48);var o=n(18),r=n(32),c={name:"donortree",data:function(){return{width:800,height:250,donor:{}}},watch:{donationsInfo:function(){this.drawTreemap()}},computed:{donationsInfo:function(){return this.$store.state.donationsInfo}},methods:{drawTreemap:function(){var t=this,e=Array.from(this.donationsInfo).slice(0,1e3),n=new Map(e),c=r.f(n,(function(t){var e=Object(o.a)(t,2);e[0];return e[1]})).sum((function(t){var e=Object(o.a)(t,2);e[0];return e[1].total})).sort((function(a,b){return b.value-a.value}));console.log(c),r.v().size([this.width,this.height]).padding(1).round(!0)(c),r.r(".treemap").selectAll("g").remove(),r.r(".treemap").attr("width",this.width).attr("height",this.height).selectAll("g").data(c.leaves()).join("g").attr("transform",(function(t){return"translate(".concat(t.x0,",").concat(t.y0,")")})).append("rect").attr("width",(function(t){return t.x1-t.x0})).attr("height",(function(t){return t.y1-t.y0})).attr("class","treesquare").on("mouseover",(function(e){var n=e.srcElement.__data__.data[0];t.populateDonor(n),e.srcElement.setAttribute("class","rectHighlighted")})).on("mouseout",(function(e){t.populateDonor(""),e.srcElement.setAttribute("class","prevHighlighted")}))},populateDonor:function(t){""==t?this.donor={}:(this.donor=this.$store.getters.getDonorInfoById(t),this.donor.total=r.d(".4~s")(this.donor.total))}},beforeMount:function(){this.$store.dispatch("getDonorData")},mounted:function(){""!=this.$store.state.donationsInfo&&this.drawTreemap()}},d=(n(593),n(595),n(83)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"treewrap section"},[n("div",{staticClass:"sectionheader"},[t._v("\n      The Top 1,000 Donors to New York City Reps in Albany Gave almost $67.5 Million.\n    ")]),t._v(" "),n("div",{staticClass:"flex-grid"},[n("svg",{staticClass:"treemap"}),t._v(" "),t.donor.name?n("div",{staticClass:"donorinfo"},[n("div",{staticClass:"nestedinfo"},[n("div",{staticClass:"bold"},[t._v(t._s(this.donor.name))]),t._v("\n          "+t._s("Total: $"+t.donor.total)+"\n          "),n("br"),t._v("\n          "+t._s("To "+t.donor.recipients+" recipients")+"\n        ")])]):n("div",{staticClass:"donorinfo"},[n("div",{staticClass:"nestedinfo"},[t._v("\n        That means just 1.9% of the donors gave almost 65% of the money. Mouse over the squares to see who they are.\n        ")])])])])}),[],!1,null,null,null);e.default=component.exports},626:function(t,e,n){"use strict";n.r(e);n(27),n(64);var o=n(102),r={name:"donordata",props:{},data:function(){return{dialogcandidate:"",dialogOpen:!1,candidate:""}},computed:Object(o.b)({selectedDonors:function(t){return t.donors.selected}}),methods:{showDialog:function(t){this.dialogcandidate=t.split("n")[1].split(" ")[0],this.dialogOpen=!this.dialogOpen},closeDialog:function(){this.dialogOpen=!this.dialogOpen},removeDonor:function(t){this.$store.commit("donors/removeSelected",t)},showCandidate:function(t){this.candidate=this.$store.getters.getCandidateName(t.split("n")[1].split(" ")[0])}}},c=(n(597),n(599),n(83)),d=n(483),l=n.n(d),h=n(539),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section donordata"},[n("dialogcandidate",{directives:[{name:"show",rawName:"v-show",value:t.dialogOpen,expression:"dialogOpen"}],attrs:{candidate:t.dialogcandidate},on:{closeDialog:function(e){return t.closeDialog()}}}),t._v(" "),t.candidate?n("div",{staticClass:"candidate flex-grid"},[n("div",{staticClass:"col"},[t._v("\n      Recipient:\n      "),n("br"),t._v(" "),n("div",{staticClass:"bold"},[t._v("\n        "+t._s(t.candidate.First_Name+" "+t.candidate.Last_Name)+"\n      ")]),t._v("\n      "+t._s("Statewide"==this.candidate.County?this.candidate.Role:this.candidate.Role+" District "+this.candidate.District+", "+this.candidate.County)),n("br")]),t._v(" "),n("div",{staticClass:"col"},[t._v("\n      Click on a bar to compare donation amounts."),n("br"),t._v("\n      Use the "),n("v-icon",{attrs:{size:"21px",color:"black"}},[t._v("\n      mdi-folder-text\n      ")]),t._v(" to open a donor file.\n    ")],1)]):n("div",{staticClass:"candidate"},[n("div",{staticClass:"candidatepadding"},[t._v("\n    Add donors with search bar above and hover over the chart to view recipients\n    ")])]),t._v(" "),t._l(t.selectedDonors,(function(e){return n("div",{key:e.Cluster_ID,staticClass:"donorlist"},[n("donortag",{attrs:{donor:e},on:{removeDonor:function(e){return t.removeDonor(e)}}}),t._v(" "),n("fingerprint",{attrs:{donor:e,divClass:"slideLeft fingerprint"+e.Cluster_ID},on:{dialog:function(e){return t.showDialog(e)},candidate:function(e){return t.showCandidate(e)}}})],1)}))],2)}),[],!1,null,null,null);e.default=component.exports;l()(component,{Dialogcandidate:n(629).default,Donortag:n(630).default,Fingerprint:n(631).default}),l()(component,{VIcon:h.a})},629:function(t,e,n){"use strict";n.r(e);n(107),n(27),n(64);var o=n(32),r={name:"addbutton",props:{candidate:{type:String,default:[]}},data:function(){return{width:400,y:"",x:""}},computed:{candidateInfo:function(){return this.$store.getters.getCandidateInfoById(this.candidate)},height:function(){return 40*this.candidateInfo.donors.length},total:function(){return""!=this.candidateInfo?o.d("~s")(o.u(this.candidateInfo.donors,(function(t){return t.total}))):0},primaryblue:function(){return this.$store.state.primaryblue}},methods:{onClick:function(){this.$emit("clear")},drawBar:function(){var t=this,e=(this.width-70)/2;this.y=o.o().domain(o.h(this.candidateInfo.donors,(function(t){return t.donor.Donor}))).rangeRound([this.height,0]).paddingInner(.1),this.x=o.p().domain([0,o.i(this.candidateInfo.donors,(function(t){return t.total}))]).nice().rangeRound([0,e]);var svg=o.r(".dialogsvg");svg.selectAll(".barg").remove(),svg.attr("width",this.width).attr("height",this.height);svg.append("g").attr("class","barg").selectAll("rect").data(this.candidateInfo.donors).join("rect").attr("x",e).attr("height",(function(e){return t.y.bandwidth()})).attr("y",(function(e){return t.y(e.donor.Donor)})).attr("width",(function(e){return t.x(e.total)})).attr("fill",this.primaryblue);var n=o.c(this.y).tickSize(0);svg.append("g").attr("class","barg").attr("transform","translate(".concat(e,",0)")).call(n).call((function(g){return g.select(".domain").remove()})).selectAll(".tick text").call(this.wrap,150),svg.selectAll("text").data(this.candidateInfo.donors).join("text").attr("class","label").attr("y",(function(e){return t.y(e.donor.Donor)+t.y.bandwidth()/2})).attr("x",(function(e){return t.x(e.total)+35})).append("tspan").attr("x",(function(e){return t.x(e.total)+35})).text((function(t){return"$"+o.d(".3s")(t.total)}))},wrap:function(text,t){text.each((function(){for(var e,text=o.r(this),n=text.text().split(/\s+/).reverse(),line=[],r=0,c=text.text().length/20>1?text.text().length/20:0,d=text.attr("y")-5*c,l=parseFloat(text.attr("dy")),tspan=text.text(null).append("tspan").attr("x",-10).attr("y",d).attr("dy",l+"em");e=n.pop();)line.push(e),tspan.text(line.join(" ")),tspan.node().getComputedTextLength()>t&&(line.pop(),tspan.text(line.join(" ")),line=[e],tspan=text.append("tspan").attr("x",-10).attr("y",d).attr("dy",1.1*++r+l+"em").text(e))}))},sendClose:function(){this.$emit("closeDialog")}},updated:function(){this.candidateInfo.donors.length>0&&this.drawBar()}},c=(n(601),n(603),n(605),n(83)),d=n(483),l=n.n(d),h=n(539),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.candidateInfo.candidate?n("div",{staticClass:"overlay",attrs:{info:t.candidateInfo}},[n("div",{staticClass:"dialog"},[n("div",{staticClass:"close"},[n("v-icon",{staticClass:"closx",attrs:{size:"medium",color:"black"},on:{click:t.sendClose}},[t._v("\n      mdi-close-circle\n      ")])],1),t._v(" "),n("div",{staticClass:"infobox"},[n("div",{staticClass:"infoboxpadding"},[n("div",{staticClass:"text"},[n("div",{staticClass:"bold"},[t._v("\n              "+t._s(this.candidateInfo.candidate.First_Name+" "+this.candidateInfo.candidate.Last_Name)+"\n            ")]),t._v(" "),n("div",[t._v("\n              "+t._s("Statewide"===this.candidateInfo.candidate.District?this.candidateInfo.candidate.Role:this.candidateInfo.candidate.Role+" District "+this.candidateInfo.candidate.District+", "+this.candidateInfo.candidate.County)+"\n            ")]),t._v(" "),n("div",[t._v(t._s("Total Receipts: $"+this.total))])]),t._v(" "),n("svg",{staticClass:"dialogsvg"})])])])]):n("div")])}),[],!1,null,"a86f2374",null);e.default=component.exports;l()(component,{VIcon:h.a})},630:function(t,e,n){"use strict";n.r(e);var o=n(32),r={name:"donortag",props:{donor:{type:Object,required:!0}},computed:{donorInfo:function(){return this.$store.getters.getDonorInfoById(this.donor.Cluster_ID)},donorTotal:function(){return null!=this.donorInfo&&null!=this.donorInfo.total?o.d(".4~s")(this.donorInfo.total):0}},methods:{removeDonor:function(){this.$emit("removeDonor",this.donor)},openDonorFile:function(){this.$store.dispatch("openDonorFile",this.donor)}}},c=(n(607),n(83)),d=n(483),l=n.n(d),h=n(539),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"donortag"},[n("div",{staticClass:"left"},[n("NuxtLink",{attrs:{to:"/donorfile"},nativeOn:{click:function(e){return t.openDonorFile(e)}}},[n("v-icon",{staticClass:"top",attrs:{size:"21px",color:"black"}},[t._v("\n      mdi-folder-text\n      ")])],1),t._v(" "),n("br"),t._v(" "),n("v-icon",{attrs:{size:"21px",color:"black"},on:{click:t.removeDonor}},[t._v("\n      mdi-trash-can\n      ")])],1),t._v(" "),n("div",{staticClass:"right"},[n("h1",[t._v(t._s(t.donor.Donor))]),t._v(" "),n("div",{staticClass:"normal"},[t._v(t._s("$"+t.donorTotal))]),t._v(" "),n("div",{staticClass:"normal"},[t._v("\n      "+t._s((null!=t.donorInfo.recipients?t.donorInfo.recipients:0)+" Recipients")+"\n    ")])])])}),[],!1,null,"34a50264",null);e.default=component.exports;l()(component,{VIcon:h.a})},631:function(t,e,n){"use strict";n.r(e);n(38),n(107);var o=n(32),r=n(102),c={name:"fingerprint",props:{donor:{type:Object,required:!0},divClass:{type:String,required:!0}},data:function(){return{width:900,height:70,mapped:[],localDonor:[],x:"",y:""}},computed:Object(r.b)({yearrange:function(t){return t.year.range},primaryblue:function(t){return t.primaryblue},candidates:function(t){return t.candidates},donorslist:function(t){return t.donorslist}}),methods:{drawFingerprint:function(){var t=this;this.localDonor=this.donorslist.filter((function(e){return e.Cluster_ID==t.donor.Cluster_ID}));var e=this.yearrange,data=this.localDonor.filter((function(t){return t.Contribution_Year>=e[0]&&t.Contribution_Year<=e[1]}));data=o.m(data,(function(t){return o.u(t,(function(t){return t.Total}))}),(function(t){return t.Candidate_ID})),this.mapped=o.h(this.candidates,(function(t){return data.get(t)?{candidate:t,amount:data.get(t)}:{candidate:t,amount:0}})),this.x=o.o().domain(o.h(this.mapped,(function(t){return t.candidate}))).rangeRound([0,this.width]).paddingInner(.1),this.y=o.p().domain([0,o.i(this.mapped,(function(t){return t.amount}))]).nice().rangeRound([this.height,0]);var n=".fingerprint"+String(this.donor.Cluster_ID);o.r(n).append("svg").attr("class","barsvg"+this.donor.Cluster_ID).attr("width",this.width).attr("height",this.height).append("g").attr("class","barg").selectAll("rect").data(this.mapped).join("rect").attr("x",(function(e){return t.x(e.candidate)})).attr("width",(function(e){return t.x.bandwidth()})).attr("y",(function(e){return t.y(e.amount)})).attr("height",(function(e){return t.y(0)-t.y(e.amount)})).attr("fill",this.primaryblue).attr("class",(function(t){return"can"+t.candidate})).on("mouseover",(function(e){o.s("."+e.srcElement.getAttribute("class")).classed("barHighlighted",!0),t.$emit("candidate",e.srcElement.getAttribute("class"))})).on("mouseout",(function(t){o.s(".barHighlighted").classed("barHighlighted",!1)})).on("click",(function(e){t.$emit("dialog",e.srcElement.getAttribute("class"))}))},updateFingerprint:function(){var t=this,e=this.yearrange,data=this.localDonor.filter((function(t){return t.Contribution_Year>=e[0]&&t.Contribution_Year<=e[1]}));data=o.m(data,(function(t){return o.u(t,(function(t){return t.Total}))}),(function(t){return t.Candidate_ID})),this.mapped=o.h(this.candidates,(function(t){return data.get(t)?{candidate:t,amount:data.get(t)}:{candidate:t,amount:0}})),this.y.domain([0,o.i(this.mapped,(function(t){return t.amount}))]);var svg=o.r(".barsvg"+this.donor.Cluster_ID);svg.selectAll(".barg").remove();svg.append("g").attr("class","barg").selectAll("rect").data(this.mapped).join("rect").attr("x",(function(e){return t.x(e.candidate)})).attr("width",(function(e){return t.x.bandwidth()})).attr("y",(function(e){return t.y(e.amount)})).attr("height",(function(e){return t.y(0)-t.y(e.amount)})).attr("fill",this.primaryblue).attr("class",(function(t){return"can"+t.candidate})).on("mouseover",(function(e){o.s("."+e.srcElement.getAttribute("class")).classed("barHighlighted",!0),t.$emit("candidate",e.srcElement.getAttribute("class"))})).on("mouseout",(function(t){o.s(".barHighlighted").classed("barHighlighted",!1)})).on("click",(function(e){t.$emit("dialog",e.srcElement.getAttribute("class"))}))}},beforeMount:function(){0==this.$store.state.candidates.length&&this.$store.dispatch("getCandidateData")},mounted:function(){this.drawFingerprint()},updated:function(){this.updateFingerprint()}},d=(n(609),n(611),n(83)),component=Object(d.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.divClass,attrs:{info:this.yearrange}})}),[],!1,null,null,null);e.default=component.exports},636:function(t,e,n){"use strict";n.r(e);n(66);var o=n(5),r=(n(32),{data:function(){return{topheader:"53,361 donors gave $104,006,269 to 86 candidates from 2015-2020",topbody:"This is a database of the donations to the 86 state representatives who         represent the five boroughs of New York City in Albany.         Explore who they are and who they donated to below.",listheader:"Create your own list of donors below to explore who donated to whom"}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$http,o=t.store,e.next=3,n.$get("https://raw.githubusercontent.com/rawild/who-pays-donors/deployed/static/summarized_year_filings_15-20.json");case 3:r=e.sent,o.commit("setDonorsObj",r);case 5:case"end":return e.stop()}}),e)})))()},beforeMount:function(){0==this.$store.state.donationsInfo.size&&this.$store.dispatch("getDonorData"),0==this.$store.state.candidateInfo.length&&this.$store.dispatch("getCandidateData")}}),c=(n(585),n(587),n(83)),d=n(483),l=n.n(d),h=n(632),f=n(637),m=n(638),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("v-container",{attrs:{fluid:""}},[n("top"),t._v(" "),n("div",{staticClass:"break"}),t._v(" "),n("textsection",{attrs:{header:t.topheader,body:t.topbody}}),t._v(" "),n("donortree"),t._v(" "),n("textsection",{attrs:{header:t.listheader}}),t._v(" "),n("controls"),t._v(" "),n("donordata")],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{Top:n(623).default,Textsection:n(624).default,Donortree:n(625).default,Controls:n(509).default,Donordata:n(626).default}),l()(component,{VApp:h.a,VContainer:f.a,VMain:m.a})}}]);